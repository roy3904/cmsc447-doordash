<!DOCTYPE html>
<html>
  <head>
    <title>Apply to be a Worker | GritDash</title>
    <link rel="stylesheet" href="homepage-style.css">
    <style>
      .apply-form { max-width:700px; margin:2rem auto; padding:1rem; }
      .input { width:100%; padding:8px; margin:0.5rem 0; border:1px solid #ddd; border-radius:4px; }
      .btn { background:#2b6cb0; color:white; padding:8px 12px; border:none; border-radius:4px; cursor:pointer; }
    </style>
  </head>
  <body>
    <header class="nav-bar">
      <div class="header-container">
        <img class="nav-logo" src="./images/gritdash-logo-1.png" alt="GritDash logo">
        <a class="nav-link" href="homepage.html">Home</a>
        <a class="nav-link" href="worker-portal.html">Worker Portal</a>
        <a class="nav-link" href="admin.html">Admin Portal</a>
      </div>
      <a href="cart.html" aria-label="Cart" style="color:inherit;text-decoration:none;">
        <i class="fa-solid fa-cart-shopping badge" style="font-size:22px;"><span id="cart-count" class="badge-count">0</span></i>
      </a>
      <script src="./scripts/cart-common.js"></script>
    </header>

    <main class="apply-form">
      <h2>Student Worker Application</h2>
      <p>Fill out this short form and administrators will review your application.</p>
      <label>Name</label>
      <input id="name" class="input" />
      <label>UMBC Email</label>
      <input id="email" class="input" />
      <label>Phone</label>
      <input id="phone" class="input" />
      <label>Availability / Hours (e.g., Mon 12-3; Tue 4-8)</label>
      <input id="availability" class="input" />
  <label>Password (for sign-in)</label>
      <input id="password" class="input" type="password" />
      <div style="margin-top:1rem"><button id="apply" class="btn">Submit Application</button></div>

      <div id="msg" style="margin-top:1rem;color:green;display:none">Application submitted. Admins will review it shortly.</div>
    </main>

    <footer><img class="footer-logo" src="./images/gritdash-logo-1.png"></footer>

    <script>
      document.getElementById('apply').addEventListener('click', () => {
        const name = document.getElementById('name').value.trim();
        const email = document.getElementById('email').value.trim();
        const phone = document.getElementById('phone').value.trim();
        const availability = document.getElementById('availability').value.trim();
    // generate a system worker id on submit
    const workerid = 'W-' + Date.now().toString(36).slice(4);
        const password = document.getElementById('password').value || '';
        if(!name || !email) { alert('Please provide name and UMBC email'); return; }
  const app = { WorkerID: workerid, Name: name, Email: email, Phone: phone, Availability: availability, PasswordHash: password, status: 'Pending' };
        const apps = JSON.parse(localStorage.getItem('worker_applications') || '[]');
        apps.push(app);
        localStorage.setItem('worker_applications', JSON.stringify(apps));
        document.getElementById('msg').style.display = 'block';
      });
    </script>
  </body>
</html>
